<div
  class="transcript-card"
  (click)="toggleExpand($event)"
  [class.expanded]="isExpanded"
>
  <div class="card-section header">
    <!-- Header content -->
  </div>
  <div class="card-section body">
    <p class="transcript-text" [class.expanded]="isExpanded">{{ transcript.text }}</p>
    <ng-container *ngIf="isExpanded">
      <h4>Improvement Prompt:</h4>
      <p>{{ improvementPrompt || "Loading improved transcript..." }}</p>
      <h4>Select an Image:</h4>
      <div class="image-selection" *ngIf="imageUrls.length > 0">
        <div class="image-list">
          <img *ngFor="let url of imageUrls" [src]="url" alt="Generated image" class="transcript-image" (click)="storeImage(url)"/>
        </div>
      </div>
    </ng-container>
  </div>
  <div class="card-section footer">
    <div class="transcript-details">
      <p class="transcript-date">{{ transcript.date | date: 'MMM d, y' }}</p>
      <p class="transcript-topic">{{ transcript.capture }}</p>
    </div>
    <div class="collapse-card">
      <span class="material-icons" id="expand-btn">expand_more</span>
    </div>
    <div class="transcript-icons">
      <span class="material-icons" id="edit-btn">edit</span>
      <span class="material-icons" id="image-btn">image</span>
      <span class="material-icons" id="sent">send</span>
    </div>
  </div>
</div>
