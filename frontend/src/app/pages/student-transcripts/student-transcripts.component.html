<div class="main-container">
    <h1 class="page-header">My Stories</h1>

    <div class="content-wrapper">
        <div class="stories-column">
            <div class="filter-controls">
                <select
                    [(ngModel)]="filterTopic"
                    class="dropdown-select"
                    (change)="applyFilter()"
                    (click)="onTopicDropdownClick()"
                >
                    <option value="">All Topics</option>
                    <option *ngFor="let topic of topics" [value]="topic">
                        {{ topic }}
                    </option>
                </select>

                <select
                    [(ngModel)]="filterStatus"
                    class="dropdown-select"
                    (change)="applyFilter()"
                    (click)="onStatusDropdownClick()"
                >
                    <option value="">All Statuses</option>
                    <option value="edited">Edited</option>
                    <option value="not_edited">Not Edited</option>
                    <option value="sent">Sent</option>
                    <option value="not_sent">Not Sent</option>
                </select>
            </div>

            <div class="transcript-list-container">
                <div class="transcript-list">
                    <app-transcript-card
                        *ngFor="
                            let transcript of displayedTranscripts;
                            trackBy: trackByTranscriptId
                        "
                        [transcript]="transcript"
                    >
                    </app-transcript-card>

                    <div
                        *ngIf="displayedTranscripts.length === 0"
                        class="no-stories-message"
                    >
                        <p>No stories match your current filter selection.</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="legend-column">
            <div class="legend-container">
                <h3>Icon Key</h3>
                <ul class="legend-list">
                    <li class="legend-item">
                        <span class="material-icons">edit</span>
                        <span>- Edit Story</span>
                    </li>
                    <li class="legend-item">
                        <span class="material-icons active-icon">edit</span>
                        <span>- Story is Edited</span>
                    </li>
                    <li class="legend-item">
                        <span class="material-icons">send</span>
                        <span>- Send to Teacher</span>
                    </li>
                    <li class="legend-item">
                        <span class="material-icons active-icon">send</span>
                        <span>- Story has been Sent</span>
                    </li>
                </ul>
            </div>
        </div>
    </div>

    <!--<div class="filter-container">
        <h2>Filter</h2>
        <div class="filter-controls">-->
    <!-- Dropdown for Topic -->
    <!--<select [(ngModel)]="filterCapture" class="dropdown-select">
                <option value="">All Captures</option>
                <option *ngFor="let capture of captures" [value]="capture">
                    {{ capture }}
                </option>
            </select>-->
    <!-- Dropdown for Date -->
    <!--<select [(ngModel)]="filterDate">
                <option value="">All Dates</option>
                <option *ngFor="let date of dates" [value]="date">
                    {{ date }}
                </option>
            </select>-->
    <!--<button (click)="applyFilter()">Filter</button>
            <button (click)="resetFilter()">Reset</button>
        </div>
    </div>-->

    <!--<div
        class="modal fade"
        [ngClass]="{ show: showModal }"
        [style.display]="showModal ? 'block' : 'none'"
        tabindex="-1"
        aria-labelledby="viewUploadedImages"
        aria-hidden="true"
    >
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h1
                        class="modal-title text-center flex-grow-1"
                        id="viewUploadedImages"
                    >
                        Assign An Image
                    </h1>
                    <button
                        type="button"
                        aria-label="Close"
                        (click)="showModal = false"
                    >
                        <span class="material-icons">close</span>
                    </button>
                </div>
                <div class="modal-body" style="overflow-y: auto; height: 75%">
                    <ng-container
                        *ngIf="uploadedImages.length > 0; else noImagesUploaded"
                    >
                        <div class="image-grid">
                            <div *ngFor="let img of uploadedImages">
                                <img
                                    [src]="img.url"
                                    [alt]="img.name"
                                    class="user-image"
                                    (click)="assignUploadedImage(img.url)"
                                />
                            </div>
                        </div>
                    </ng-container>
                    <ng-template #noImagesUploaded>
                        <p class="no-images-uploaded-text">
                            There are no images to show. Please upload an image
                            and try again.
                        </p>
                    </ng-template>
                </div>
                <div class="modal-footer">
                    <button
                        type="button"
                        data-bs-dismiss="modal"
                        (click)="showModal = false"
                    >
                        Close
                    </button>
                </div>
            </div>
        </div>
    </div>-->
</div>
